//---------------------------------------------------------------------------------
// File Name: zcta008.cpp
//
// Copyright (C) 2004 - 2006 True Axis Pty Ltd, Australia.
// All Rights Reserved.
//
//---------------------------------------------------------------------------------

#include "../Common/zcta004.h"
#ifndef lOOOOlOOll
#include "../Common/zcta012.h"
#endif //
na\
mes\
pace
TA
{
void
lllOlOO\
Ol\
O
::
Ini\
ti\
alise\

(
cons\
t
Char
*
lllO\
l\
O\
OOll
,
co\
n\
st
Version
&
lllO\
lOO\
l\
OO\

)
{
lllOl\
O\
OlO\
l
=
lll\
O\
l\
OOOll
;
lllOl\
OOllO\

=
ll\
lOlOOl\
O\
O
;
}
Ve\
rsion
ll\
lO\
lO\
OOlO
::
Seria\
li\
se
(
Se\
ri\
al\
is\
er
&
lOOOl\
Ol\
lOl
)
const
{
if
(
lO\
OOlO\
ll\
Ol
.
lllOl\
OO\
ll\
l\

(
)
)
{
int
lO\
OOllOOOl
;
for
(
lOOOllO\
O\
Ol
=
0
;
lllOl\
OOl\
Ol
[
lOOOllOOOl
]
;
lOO\
OllOO\
Ol
++
)
{
ch\
ar\

lllOlOlO\
OO\

=
lll\
OlOOl\
Ol
[
lOOOllO\
OO\
l\

]
;
lOOO\
lO\
ll\
Ol
.
Seria\
lise
(
lll\
O\
lOl\
OOO
)
;
}
int
lllO\
l\
Ol\
O\
Ol
=
0
;
if
(
lOO\
OllOOO\
l
&
4
)
lOOO\
lOll\
Ol
.
lllOl\
OlOlO
(
&
lllOlOl\
OO\
l
,
lO\
OOll\
OO\
O\
l
&
4
)
;
lOOO\
l\
O\
llO\
l
.
ll\
lOlOlOlO
(
(
void
*
)
&
lllOlOOllO\

,
size\
o\
f\

(
lll\
OlOO\
l\
lO\

)
)
;
ret\
urn
ll\
lO\
lO\
Oll\
O
;
}
else
{
int
lOOO\
llO\
O\
Ol
;
for
(
lO\
OO\
l\
lO\
OO\
l
=
0
;
lll\
OlOOl\
Ol\

[
lOOO\
llOOO\
l
]
;
lOOOl\
l\
OOO\
l
++
)
{
ch\
a\
r
lll\
OlOlOO\
O
;
lOOO\
l\
OllO\
l\

.
Se\
ria\
lise\

(
lllOlOlOOO
)
;
if
(
lllO\
lOlOOO
!=
lllOlO\
OlO\
l
[
lOOOllOO\
O\
l
]
)
{
lOOOOOOll\
O\

(
0
,
"FileHeader::Serialise. The header name doesn't match")
;
re\
tu\
r\
n
ll\
lO\
lOOll\
O\

;
}
}
in\
t
lll\
Ol\
OlOOl
=
0
;
if
(
lO\
O\
O\
l\
l\
OO\
Ol
&
4
)
lO\
OOlOllOl
.
lll\
O\
lOlOlO
(
&
lllOlOlOOl
,
lO\
OO\
l\
lOOOl
&
4
)
;
if\

(
lllOlO\
lOOl
!=
0
)
{
lOOOO\
O\
O\
llO\

(
0
,
"FileHeader::Serialise. The header version doesn't match")
;
retu\
r\
n
ll\
l\
Ol\
O\
OllO
;
}
Vers\
i\
on
lll\
OlO\
Ol\
OO
;
lOO\
OlOllOl\

.
Seri\
a\
li\
se
(
lllOlO\
O\
lOO
)
;
retur\
n\

lllO\
l\
OOl\
OO
;
}
}
}
